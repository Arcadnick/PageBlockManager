{"ast":null,"code":"var _jsxFileName = \"/Users/arcadnick/PageBlockManager/frontend/src/components/Block.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Block = ({\n  blockIndex,\n  blockNumber,\n  onRemove,\n  moveBlock,\n  rowIndex,\n  blocks,\n  onClick\n}) => {\n  _s();\n  const [{\n    isDragging\n  }, dragRef] = useDrag({\n    type: 'block',\n    item: {\n      rowIndex,\n      blockIndex\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  const [{\n    isOver,\n    canDrop\n  }, dropRef] = useDrop({\n    accept: 'block',\n    drop: item => {\n      if (item.rowIndex !== rowIndex || item.blockIndex !== blockIndex) {\n        moveBlock(item.rowIndex, item.blockIndex, rowIndex, blockIndex);\n        item.rowIndex = rowIndex;\n        item.blockIndex = blockIndex;\n      }\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: dropRef,\n    className: `block-container \n        ${isDragging ? 'dragging' : ''} \n        ${isOver && canDrop ? 'hovered' : ''}\n        ${isSelected ? 'selected' : ''}\n        `,\n    onClick: () => onClick(blockIndex),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dragRef,\n      className: \"block-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block-coordinates\",\n        children: [rowIndex + 1, \":\", blockIndex + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        onClick: e => {\n          e.stopPropagation();\n          onRemove();\n        },\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"block-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block-number\",\n        children: blockNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: blocks[blockIndex].content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Block, \"lIpbjnpZk9KoYyeJriMKrauh944=\", false, function () {\n  return [useDrag, useDrop];\n});\n_c = Block;\nexport default Block;\nvar _c;\n$RefreshReg$(_c, \"Block\");","map":{"version":3,"names":["React","useDrag","useDrop","jsxDEV","_jsxDEV","Block","blockIndex","blockNumber","onRemove","moveBlock","rowIndex","blocks","onClick","_s","isDragging","dragRef","type","item","collect","monitor","isOver","canDrop","dropRef","accept","drop","ref","className","isSelected","children","fileName","_jsxFileName","lineNumber","columnNumber","e","stopPropagation","content","_c","$RefreshReg$"],"sources":["/Users/arcadnick/PageBlockManager/frontend/src/components/Block.jsx"],"sourcesContent":["import React from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\n\nconst Block = ({ \n  blockIndex, \n  blockNumber, \n  onRemove, \n  moveBlock, \n  rowIndex, \n  blocks, \n  onClick \n}) => {\n  const [{ isDragging }, dragRef] = useDrag({\n    type: 'block',\n    item: { rowIndex, blockIndex },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const [{ isOver, canDrop }, dropRef] = useDrop({\n    accept: 'block',\n    drop: (item) => {\n      if (item.rowIndex !== rowIndex || item.blockIndex !== blockIndex) {\n        moveBlock(item.rowIndex, item.blockIndex, rowIndex, blockIndex);\n        item.rowIndex = rowIndex;  \n        item.blockIndex = blockIndex;\n      }\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  });\n\n  return (\n    <div\n      ref={dropRef}\n      className={`block-container \n        ${isDragging ? 'dragging' : ''} \n        ${isOver && canDrop ? 'hovered' : ''}\n        ${isSelected ? 'selected' : ''}\n        `}\n      onClick={() => onClick(blockIndex)}\n    >\n      <div ref={dragRef} className=\"block-header\">\n        <span className=\"block-coordinates\">\n          {rowIndex + 1}:{blockIndex + 1}\n        </span>\n        <button className=\"delete\" onClick={(e) => { e.stopPropagation(); onRemove(); }}>\n          Ã—\n        </button>\n      </div>\n      <div className=\"block-content\">\n        <span className=\"block-number\">{blockNumber}</span>\n        <span>{blocks[blockIndex].content}</span>\n      </div>\n    </div>\n  );\n};\nexport default Block;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}